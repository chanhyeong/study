= 6. 클래스 설계

== Item 36. 상속보다는 컴포지션을 사용하라 (Prefer composition over inheritance)

관계가 명확하지 않을 때 상속을 사용하면 문제가 발생할 수 있다

* 하나의 클래스만을 대상으로도 할 수 있음 - 거대한 부모를 만든다
* 부모 클래스의 모든 것을 가져옴 - 불필요한 함수
* 이해하기 려움

컴포지션을 사용한다 = 객체를 프로퍼티로 갖고, 함수를 호출하는 형태로 재사용하는 것

=== 모든 것을 가져올 수밖에 없는 상속

상속은 계층 구조를 나타낼 때는 좋지만, 재사용을 위한 목적으로는 적합하지 않다

컴포지션이 무조건 좋지는 않고, 인터페이스로 다중 상속을 하는 선택지도 있다 (개인적으론 이거 선호)

=== 캡슐화를 깨는 상속

외부 활용도 중요하지만, 내부에서 어떻게 활용하는지도 중요하다 (HashSet add, addAll) 예제

delegation 도 가능 +
delegation 을 사용하지 않는 컴포지션이 이해하기 더 쉽고 유연하다

=== 오버라이딩 제한하기

open 클래스는 open 메소드만 오버라이드 할 수 있다 +
하위에서 final 을 붙여서 그 하위는 제한할 수 있다

=== 정리

상속은 명확한 'is-a' 관계일 때 사용하는게 좋다