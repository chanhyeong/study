= OSI 참조 모델

== 5장. 일반 OSI 참조 모델 관련 이슈와 개념

=== OSI 참조 모델 사용법

기술과 동작 방식을 이해하는 데 필요하다면 OSI 참조 모델을 참조하지만, 오히려 기술을 복잡하게 만든다면 OSI 모델을 이용하지 않는 편이 좋다.

* 특정 기술이 모델의 어떤 부분을 해당하는지 이해하기 어려울 때
** 많은 프로토콜은 OSI 모델을 염두에 두고 설계되지 않음, 정확히 들어맞지 않을 수 있음
** 일부 프로토콜은 2개 이상의 계층에 걸쳐 있을 수도, 두 프로토콜이 하나의 계층을 공유할 수도
* 상위 계층 (5~7) 의 경계는 모호하다
* OSI 참조 모델은 LAN 을 염두에 두고 설계, WAN 은 잘 맞지 않음
* 제품 설계자들은 OSI 모델의 특정 계층만을 구현했는지에 대해 신경 쓰지 않음

OSI 참조 모델은 도구다

=== 프로토콜 슈트

* 호환되는 다양한 네트워킹 기술 집합을 설명하기 위한 몇 가지 기타 모델과 체계, 실제 네트워크에서 널리 쓰이는 프로토콜 그룹
** TCP/IP
* 일부 프로토콜은 OSI 단일 계층 내에 하위 프로토콜을 가지고 있는 경우도 있다
** TCP/IP 의 PPP

=== OSI 참조 모델 네트워킹 계층, 하위 계층, 계층 그룹

* 하위 계층 (1~4): 데이터 포매팅, 인코딩, 전송
* 상위 계층 (5~7)

물리 계층과 데이터 링크 계층은 밀접히 연관 +
이더넷 명세는 2계층과 1계층 모두 다룸 +
TCP/IP 는 3, 4 계층이 서로 협력

=== 인터페이스: 수직 (인접 계층) 통신 (Interfaces: Vertical (Adjacent Layer) Communication)

* (동일 장비 내) 인접한 계층 간의 통신 방식
** 상위 계층이 실제 물리적 연결을 포함하는 것이 아니라, 소프트웨어의 논리적 기능으로 구현되었기 때문

=== 프로토콜: 수평적 (대응 계층) 통신 (Protocols: Horizontal (Corresponding Layer) Communication)

* 한 가지 유형의 통신을 정의하는 규칙 모음
* 다양한 머신에 존재하는 같은 계층의 소프트웨어나 하드웨어 구성 요소 간의 통신을 설명하는 통신 규칙, 명령, 절차 모음
** 다른 장비와는 1계층에서만 물리적으로 연결되어 있기 때문에, 같은 계층에서는 논리적으로 동일한 것을 정의

=== 데이터 캡슐화, 프로토콜 데이터 유닛, 서비스 데이터 유닛

앞 장에서 다루어서 스킵

=== 간접 장비 연결과 메시지 라우팅 (Indirect Device Connection and Message Routing)

* 장비가 간접적으로 연결되도록 할 수 있는 인터네트워크를 만들 수 있음
** 보낼 머신이 어디에 위치했는지 몰라도 메시지를 보낼 수 있음
* 포워딩: 한 네트워크 -> 다른 네트워크로 보내기
* 라우팅: 한 장비에서 다른 장비로 포워딩하는 종합적인 과정
** 일반적으로 네트워크(3) 계층에서 일어남

== 6장. OSI 참조 모델 계층

=== Physical Layer (Layer 1)

* 네트워크 인터페이스를 통해 물리적으로 전송되는 유일한 계층
* 하드웨어 케이블과 카드 외에도 여러 네트워크 기능을 정의
* 모든 네트워크 하드웨어가 이 계층은 아니다. 데이터 링크 계층 구현도 있을 수 있음

==== 핵심 기능

* 하드웨어 명세 정의, 인코딩과 신호, 데이터 송/수신, 토폴로지와 물리 네트워크 설계

=== Data Link Layer (Layer 2)

* 여러 유/무선 LAN 기술의 주요 기능이 위치하는 곳
** 이더넷, 토큰 링, FDDI, 802.11

==== 핵심 기능

* 논리적 연결 제어 (LLC, Logical Link Control): 로컬 장비 간 논리적 연결을 수립하고 제어하는 데 필요한 기능
** 상위 네트워크 계층에 서비스 제공, 본인 계층의 세부 내용은 감추어 서로 다른 기술이 상위 계층과 쉽게 결합될 수 있도록 함
* 매체 접근 제어 (MAC, Media Access Control): 장비가 네트워크 매체에 대한 접근을 통제하는 데 사용하는 절차
** 충돌을 피하기 위해 메체를 관리하는 규칙 (ex. CSMA/CD)
* 데이터 프레이밍
* 주소지정: 특정 목적지 주소 청부
** 각 장비는 이 계층 프로토콜이 데이터를 특정 머신으로만 보낼 수 있도록 하는 유일한 (하드웨어) 주소를 가지고 있음 (ex. MAC address)
* 에러 탐지와 처리
* 물리 계층 표준: 물리 계층 하드웨어와 인코딩 규약

브리지, 스위치 등

=== Network Layer (Layer 3)

원격 네트워크에 있는 컴퓨터에게 데이터를 전송할 수 있는 기능과 관련된 가장 낮은 계층

==== 핵심 기능

* 논리적 주소지정: 장비를 식별하기 위한 논리적 주소인 3계층 주소를 가진다. (전체 인터네트워크에서 유일)
* 라우팅 네트워크: 패킷을 받아 최종 목적지 파악 -> 통과할 다음 경로 결정
* 데이터그램 캡슐화
* 단편화와 재조합
** 일부 데이터 링크 계층에서 송신 메시지 길이 제한
** 너무 크면 단편화하여 전송 -> 단편화한 패킷을 재조합
* 에러 처리와 진단: 네트워크나 장비 상태 정보를 교환할 수 있도록 하는 특수 프로토콜 사용

연결형/비연결형 서비스 제공 (보통 비연결형 서비스) +
라우터: 네트워크 계층에서 동작하는 네트워크 연결 장비, 최적의 경로를 찾기 위해 라우팅 프로토콜로 서로 통신

=== Transport Layer (Layer 4)

* 추상적: 세부적인 패킷 전송과 관련된 부분을 다루지 않음
* 서로 다른 컴퓨터에 있는 소프트웨어 앱 프로세스들이 통신하는 데 필요한 기능 제공
* 각 애플리케이션에서 나오는 데이터를 추적하여 하나의 데이터 흐름으로 결합 -> 하위 계층으로 (단편화하여) 전송
* 장비 간 안정적이고 효율적인 통신을 보장하는 알고리즘 이용
** 손실 패킷 탐지 및 처리, 송신율 관리
* 이 계층의 모든 프로토콜이 안정성과 흐름 제어 기능을 제공하지는 않는다

==== 핵심 기능

* 프로세스 수준 주소지정: 소프트웨어 프로그램을 구분하는데 쓰임 (TCP, UDP 포트) 
* 다중화와 역다중화: 여러 애플리케이션에서 보내고자 하는 데이터를 다중화하여 하나의 데이터 스트림으로 결합, 수신자 측에서 역다중화
* 단편화, 패키징, 재조합
* 연결 수립, 유지, 종료
* 승인과 재전송
** 데이터를 보낼 때마다 송신자 재전송 타이머 시작 -> 수신자가 송신자에게 승인 정보 전송 -> 만료 시간까지 승인 정보가 오지 않을 경우 데이터 재전송
* 흐름제어

=== Session Layer (Layer 5)

* 장비가 세션을 수립하고 관리할 수 있도록 하기 위해 설계
* 두 소프트웨어 애플리케이션 프로세스 간의 지속적인 논리적 연결로 데이터 교환
* 세션 생성, 유지, 종료 수단 API 제공
** 애플리케이션이 표준화된 서비스 모음을 이용하여 이용할 수 있도록
** NetBIOS, TCP/IP socket, RPC

=== Presentation Layer (Layer 6)

선택적인 사항

==== 핵심 기능

* 번역: 여러 유형의 컴퓨터 간 차이를 감추기 위함
* 압축
* 암호화

=== Application Layer (Layer 7)

프로그램과 사용자에게 서비스 제공 (HTTP, FTP, SMTP, DHCP, NFS, Telnet, ...)