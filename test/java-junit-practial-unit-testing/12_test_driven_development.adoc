= 12. 테스트 주도 개발

작성하려는 코드를 어떻게 테스트하는지 고민해야 한다 +
작성할 코드를 묘사하는 테스트를 설계해야 한다 +
(그래서 js 쪽이 describe 로 시작하는건가)

TDD 에서 단위 테스트를 시스템의 모양을 잡고 통제하는 도구로 활용해야 한다

== TDD 의 주된 이익

단위 테스트의 사후 작성: 코드가 예상한 대로 동작한다는 자신감을 얻는 것 +
TDD 로는 동일한 이익 + 그 이상

TDD 를 잘 따른다면 구현하는 실질적인 모든 사례에 대한 단위 테스트를 작성하게 된다

== 단순하게 시작

세 사이클로 구성

* 실패하는 테스트 코드 작성하기
* 테스트 통과시키기
* 이전 두 단계에서 추가되거나 변경된 코드 개선하기

실패하는 테스트 코드 작성하기 (p251~252)

-> 추가하고자 하는 동작을 정의하는 테스트 코드 작성 +
-> 만들고자 하는 클래스 생성

통과시키기 (p253)

-> 단순하게 반환값을 고정

== 또 다른 증분 추가

가능한 작은 증분을 추가 +
테스트가 나타내는 명세를 정확히 코딩

가장 작은 양의 코드 작성 - 실패하는 또 다른 테스트를 만들 수 있다

책에서는 새로운 테스트 케이스를 추가

== 테스트 정리

테스트가 짧고 깔끔하도록 리팩토링

== 또 다른 작은 증분

다음 테스트 케이스 추가

시나리오를 테스트로 만들고, 각 테스트를 통과하게 만드는 코드 증분을 최소화하는 순으로 코드 작성

다음으로 12.6에서 다수의 응답을 지원하는 기능 추가

== 인터페이스 확장

AAA 는 불변의 법칙 (hard-and-fast rule) 이 아니다 (단위 테스트 책에서는 맞추라고 하긴 했는데..) +
(개인적으로는 AAA 로 맞추는게 코드 통일성 측면에서는 좋은 것 같다)

== 문서로서의 테스트

세심하게 테스트를 작성할수록 테스트는 의도적으로 설계된 동작들을 더 많이 문서화할 수 있다

TDD 를 잘 이해하려면 테스트 이름부터 깔끔하고 일관성 있게

. 테스트 클래스 이름에서 알 수 있는 내용은 제거
. 테스트 대상별로 테스트 클래스 분리
** (`@Nested` 로 모아둘 수 있을 듯)
