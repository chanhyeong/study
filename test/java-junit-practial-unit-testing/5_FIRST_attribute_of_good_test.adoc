= 5. 좋은 테스트의 FIRST 속성

== [F]IRST: Fast

빠른 테스트는 (DB 같은 외부 시스템에 접근 없이) 코드만 실행, 수 밀리초 수준

단위 테스트의 실행이 하루에 3~4회가 어렵다면 잘못된 방향 +
단위 테스트 스위트의 가치: 대상 시스템에 대한 지속적이고 종합적인 빠른 피드백

테스트를 빠르게 유지하세요 +
느린 테스트에 대한 의존성을 줄이기 - 모든 테스트가 DB 를 호출한다면 전체 테스트 또한 느림

(예시는 테스트를 위해서 실제 동작까지 바꿔버렸는데..)

== F[I]RST: Isolated / Independent

외부, 다른 테스트와의 고립

테스트 코드는 어떤 순서나 시간에 관계없이 실행할 수 있어야 한다

테스트에 두 번째 assertion 을 추가할 때 다음을 고려해라 +
assertion 이 단일 동작을 검증? or 새로운 테스트 이름으로 기술할 수 있는 다른 동작?

테스트 메소드가 하나 이상의 이유로 깨진다면 테스트를 분할하는 것도 고려

== FI[R]ST: Repeatable

실행할 때마다 결과가 같아야 한다 - 직접 통제할 수 없는 외부 환경에 있는 항목들과 격리

예시) JAVA8 Clock - 고정된 시간을 갖는 객체 +
(assertj 를 쓰면서는 `usingRecursiveComparison().ignoreFields("")` 를 많이 사용)

== FIR[S]T: Self-validating

테스트는 스스로 검증 가능할 뿐만 아니라 준비할 수도 있어야 한다 -> 자동화

== FIRS[T]: Thorough / Timely

규칙을 세우고 그 규칙에 맞게 테스트를 적시에 작성하고 검사

옛날 코드에 대한 테스트 - 큰 결함이 없고 변경 예정이 없다면, 노력을 보상받지 못함 +
다른 부분에 더 노력해라

== 마무리

테스트 작성 시 상당한 시간이 필요, 테스트도 유지 보수 해야한다

테스트를 고품질로 유지하라 FIRST 라는 좋은 테스트 속성 기억